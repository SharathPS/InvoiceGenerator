(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){e.exports=n(189)},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(10),c=n.n(r),o=n(38),m=n(12),l=n(29),s=n(9),u=n(47),g=n(101),d=(n(99),n(187),n(102)),h=n(103),b=n(105),p=n(104),f=document.createElement("textarea"),y=function(e){return f.innerHTML=e,f.value},v=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"onLineItemDescriptionChange",value:function(e,t){this.props.onLineItemDescriptionChange({index:e,newDescription:t.target.value})}},{key:"onLineItemQuantityChange",value:function(e,t){this.props.onLineItemQuantityChange({index:e,newQuantity:t.target.value})}},{key:"onLineItemMtsChange",value:function(e,t){this.props.onLineItemMtsChange({index:e,newMts:t.target.value})}},{key:"onLineItemRateChange",value:function(e,t){this.props.onLineItemRateChange({index:e,newRate:t.target.value})}},{key:"onLineItemDeleteClick",value:function(e){this.props.onLineItemDeleteClick({index:e})}},{key:"getLineItemsTotal",value:function(e){var t=this;return e.reduce((function(e,n){return e+t.setDefaultValue(n.quantity)*n.rate*t.setDefaultValue(n.mts)}),0)}},{key:"setDefaultValue",value:function(e){return 0===e?1:e}},{key:"renderLineItemRow",value:function(e,t){return i.a.createElement(s.h,{key:t},i.a.createElement(s.b,{sm:5},i.a.createElement(s.e,{type:"text",value:e.description,onChange:this.onLineItemDescriptionChange.bind(this,t)})),i.a.createElement(s.b,{sm:1,style:{paddingLeft:"7px",paddingRight:"7px"}},i.a.createElement(s.e,{type:"number",min:1,value:e.quantity,onChange:this.onLineItemQuantityChange.bind(this,t)})),i.a.createElement(s.b,{sm:1,style:{paddingLeft:"7px",paddingRight:"7px"}},i.a.createElement(s.e,{type:"number",min:1,value:e.mts,onChange:this.onLineItemMtsChange.bind(this,t)})),i.a.createElement(s.b,{sm:2,style:{paddingLeft:"7px",paddingRight:"7px"}},i.a.createElement(s.e,{type:"number",min:1,value:e.rate,onChange:this.onLineItemRateChange.bind(this,t)})),i.a.createElement(s.b,{sm:2},y(Object(u.format)(this.setDefaultValue(e.mts)*this.setDefaultValue(e.quantity)*e.rate,{currency:this.props.currency}))),i.a.createElement(s.b,{sm:1},i.a.createElement(s.a,{bsStyle:"danger",onClick:this.onLineItemDeleteClick.bind(this,t)},"X")))}},{key:"render",value:function(){var e=this.props.lineItems,t=e.map(this.renderLineItemRow.bind(this)),n=this.getLineItemsTotal(e);return i.a.createElement("div",null,i.a.createElement(s.h,null,i.a.createElement(s.b,{sm:5},"Item"),i.a.createElement(s.b,{sm:1},"Quantity"),i.a.createElement(s.b,{sm:1},"Mts"),i.a.createElement(s.b,{sm:2},"Rate"),i.a.createElement(s.b,{sm:2},"Amount"),i.a.createElement(s.b,{sm:1})),t,i.a.createElement(s.h,null,i.a.createElement(s.b,{sm:7},i.a.createElement(s.a,{bsStyle:"success",onClick:this.props.onLineItemAddClick},"+ Add Line Item")),i.a.createElement(s.b,{sm:1}),i.a.createElement(s.b,{sm:1}),i.a.createElement(s.b,{sm:1},"Total"),i.a.createElement(s.b,{sm:1},y(Object(u.format)(n,{currency:this.props.currency}))),i.a.createElement(s.b,{sm:1})))}}]),n}(a.Component);v.defaultProps={lineItems:[]};var I=v,E=window.pdfMake;function x(e){if(e.imageLogo){console.log("imageLogo",e.imageLogo);var t=new FileReader;t.addEventListener("load",C.bind(null,e,t),!1),t.readAsDataURL(e.imageLogo)}else L(e)}function C(e,t){e.imageLogo=t.result,L(e)}function L(e){var t=function(e){var t=N(e);return console.log("notesAndTerms",t),{content:[O(e),j(e),w(e)].concat(Object(o.a)(N(e)))}}(e);E.createPdf(t).open()}function O(e){var t=[],n=[];return Object.entries({Date:e.date,"Payment Terms":e.paymentTerms,"Due Date":e.dueDate}).forEach((function(e){var a=Object(l.a)(e,2),i=a[0],r=a[1];r&&(t.push(i),n.push(r))})),{columns:[{stack:[].concat(Object(o.a)(D(e)),[{text:e.fromName,fontSize:15,margin:[0,0,0,0]},{text:e.fromTown,fontSize:15,margin:[0,0,0,0]},{text:e.fromGst,fontSize:10,margin:[0,0,30,0]},{text:"Bill To",margin:[0,30,0,0]},{text:e.toName}])},{stack:[{text:"INVOICE",fontSize:15},{text:"# ".concat(e.invoiceNumber),fontSize:10,margin:[0,0,0,30]},{columns:[{width:50,text:""},{width:"*",columns:[{stack:t,alignment:"right"},{stack:n,alignment:"right"}]}]}],alignment:"right"}],columnGap:10,margin:[0,0,0,30]}}function j(e){var t=e.lineItems.map(function(e){return function(t){return[t.description,{text:String(t.quantity),alignment:"right"},{text:String(t.mts),alignment:"right"},{text:"".concat(t.rate),alignment:"right"},{text:"".concat((t.quantity*t.rate*t.mts).toFixed(2)," ").concat(e.currency),alignment:"right"}]}}(e));return{table:{widths:["*","11%","11%","11%","18%"],headerRows:1,body:[["Item",{text:"Quantity",alignment:"right"},{text:"Mts",alignment:"right"},{text:"Rate",alignment:"right"},{text:"Amount",alignment:"right"}]].concat(Object(o.a)(t))},layout:"lightHorizontalLines"}}function k(e){return 0===e?1:e}function w(e){var t=e.lineItems.reduce((function(e,t){return e+k(t.quantity)*t.rate*k(t.mts)}),0);return{table:{widths:["*","18%"],body:[[{text:"Total",margin:[0,20,0,0],alignment:"right"},{text:"".concat(t.toFixed(2)," ").concat(e.currency),margin:[0,20,0,0],alignment:"right"}]]},layout:"noBorders",margin:[0,0,0,30]}}function N(e){var t=[];return console.log("params",e),e.notes&&(t=t.concat([{text:"Notes"},{text:e.notes,margin:[0,0,0,30]}])),e.terms&&(t=t.concat([{text:"Terms"},{text:e.terms,margin:[0,0,0,30]}])),t}function D(e){var t=[];return e.imageLogo&&t.push({image:e.imageLogo}),t}Object.keys(u.symbols);var S={invoiceNumber:"",fromName:"Lakshmi Readymades & Agencies",fromTown:"Palamaner",fromGst:"GSTIN:37ACBPP0224C1Z8",imageLogo:null,paymentTerms:null,currency:"INR",toName:"",date:"",dueDate:null,lineItems:[],notes:null,terms:null};var R=function(){var e=Object(a.useState)(S),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=i.a.useState((function(){var n;try{n=JSON.parse(localStorage.getItem(e)||"")}catch(a){n=localStorage.getItem(e)}return n=n||t,localStorage.setItem(e,"string"===typeof n?n:JSON.stringify(n)),n})),a=Object(l.a)(n,2),r=a[0],c=a[1],o=function(t){c(t),localStorage.setItem(e,"string"===typeof t?t:JSON.stringify(t))};return[r,o]}("invoiceHistory",[]),u=Object(l.a)(c,2),d=u[0],h=u[1];function b(e,t){var a=t.target.value,i={};i[e]=a,r(Object(m.a)(Object(m.a)({},n),i))}return i.a.createElement("div",{className:"App"},i.a.createElement("div",null,i.a.createElement(s.g,null,"Lakshmi Readymades & Agencies Invoice"),i.a.createElement("div",{className:"App-invoice"},i.a.createElement(s.d,{horizontal:!0},i.a.createElement(s.f,{controlId:"invoiceNumber"},i.a.createElement(s.b,{componentClass:s.c,sm:2},"Invoice #"),i.a.createElement(s.b,{sm:10},i.a.createElement(s.e,{type:"text",value:n.invoiceNumber,onChange:b.bind(this,"invoiceNumber")}))),i.a.createElement(s.f,{controlId:"toName"},i.a.createElement(s.b,{componentClass:s.c,sm:2},"Bill To"),i.a.createElement(s.b,{sm:10},i.a.createElement(s.e,{componentClass:"textarea",rows:"3",placeholder:"Who is this invoice to?",value:n.toName,onChange:b.bind(this,"toName")}))),i.a.createElement(s.f,{controlId:"date"},i.a.createElement(s.b,{componentClass:s.c,sm:2},"Date"),i.a.createElement(s.b,{sm:3},i.a.createElement(s.e,{type:"date",value:n.date,onChange:b.bind(this,"date")}))),i.a.createElement(I,{lineItems:n.lineItems,currency:n.currency,onLineItemDescriptionChange:function(e){var t=n.lineItems;t[e.index].description=e.newDescription,r(Object(m.a)(Object(m.a)({},n),{},{lineItems:t}))},onLineItemQuantityChange:function(e){var t=n.lineItems;t[e.index].quantity=e.newQuantity,r(Object(m.a)(Object(m.a)({},n),{},{lineItems:t}))},onLineItemMtsChange:function(e){var t=n.lineItems;t[e.index].mts=e.newMts,r(Object(m.a)(Object(m.a)({},n),{},{lineItems:t}))},onLineItemRateChange:function(e){var t=n.lineItems;t[e.index].rate=e.newRate,r(Object(m.a)(Object(m.a)({},n),{},{lineItems:t}))},onLineItemDeleteClick:function(e){var t=n.lineItems;t.splice(e.index,1),r(Object(m.a)(Object(m.a)({},n),{},{lineItems:t}))},onLineItemAddClick:function(){var e=n.lineItems;e.push({description:"",quantity:0,mts:0,rate:0}),r(Object(m.a)(Object(m.a)({},n),{},{lineItems:e}))}}))),i.a.createElement("div",{className:"Footer-Container"},i.a.createElement("div",{className:"Footer"},i.a.createElement(s.b,{sm:2},i.a.createElement(s.a,{onClick:function(){r(S)}},"Clear Form")),i.a.createElement(s.b,{smOffset:8,sm:2},i.a.createElement(s.a,{onClick:function(){x(n),Object(g.a)(n,d[0])||h([n].concat(Object(o.a)(d.slice(0,24))))},bsStyle:"primary"},"Create Invoice"))))))};n(188);c.a.render(i.a.createElement(R,null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.1ba82ed0.chunk.js.map